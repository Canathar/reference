╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ Postgres_Info.txt                                                                                                               ║
║                                                                                                                                 ║
║ Document Best Viewed/Printed: Letter, Landscape, Monospace Font, Normal, 10pt, 0.25in Side Margins                              ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                    Revision History                                                             ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ VV.vv.DOYyy.bb (dd MMM yy) - Initial Creation/Development Update/Maintenance Update                                             ║
║                                                                                                                                 ║
║  1.00.11616.xx (25 Apr 16) - Initial Creation {J. Laccone}                                                                      ║
║                                 Added header, added reference data                                                              ║
║  1.01.20916.xx (27 Jul 16) - Development Update {J. Laccone}                                                                    ║
║                                 Expanded header, added additional reference data                                                ║
║  1.02.22116.xx (08 Aug 16) - Development Update {J. Laccone}                                                                    ║
║                                 Modified data for external communication domain testing                                         ║
║  1.03.23916.xx (26 Aug 16) - Development Update {J. Laccone}                                                                    ║
║                                 Added database credentials                                                                      ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                          Notes                                                                  ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                                 ║
║   MLB-DEV-ZMA Database Server                                                                                                   ║
║   ───────────────────────────                                                                                                   ║
║      IP Address: 172.24.22.193                                                                                                  ║
║      User      : postgres                                                                                                       ║
║      Password  : P@55w0rd                                                                                                       ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                        Reference                                                                ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                                 ║
║   PostgreSQL                                                                                                                    ║
║   ──────────                                                                                                                    ║
║      https://en.wikipedia.org/wiki/PostgreSQL                                                                                   ║
║                                                                                                                                 ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Basic script db connectivity
   ────────────────────────────
   psql -A -q opensips postgres -c "<add script name here>"



   Basic command line db connectivity
   ──────────────────────────────────
   psql -U postgres -h masterip -d opensips -c "<add SQL commands here>"



   Query the dialplan table (Command Line)
   ───────────────────────────────────────
   psql -U postgres -h masterip -d opensips -c "select * from dialplan order by dpid;"



   Query the subscriber table (Command Line)
   ─────────────────────────────────────────
   psql -U postgres -h masterip -d opensips -c "select * from subscriber;"



   SQL Commands (subscriber table)
   ───────────────────────────────

      Internal Domain Testing G/G
      ---------------------------
      INSERT INTO subscriber (username,domain,password,ha1,ha1b) VALUES ('RC147','zma.artcc.ionharris.com', 'password', md5('RC147@zma.artcc.ionharris.com:zma.artcc.ionharris.com:password'),md5('RC147@zma.artcc.ionharris.com:zma.artcc.ionharris.com:password'));

      External Domain Testing G/G
      ---------------------------
      INSERT INTO subscriber (username,domain,password,ha1,ha1b) VALUES ('RC148','atl.atct.ionharris.com', 'password', md5('RC148@atl.atct.ionharris.com:atl.atct.ionharris.com:password'),md5('RC148@atl.atct.ionharris.com:atl.atct.ionharris.com:password'));

      Internal Domain Testing A/G
      ---------------------------
      INSERT INTO subscriber (username,domain,password,ha1,ha1b) VALUES ('txrx.135000','zma.artcc.ionharris.com', 'password', md5('txrx.135000@zma.artcc.ionharris.com:zma.artcc.ionharris.com:password'),md5('txrx.135000@zma.artcc.ionharris.com:zma.artcc.ionharris.com:password'));



   SQL Commands (dialplan table)
   ─────────────────────────────
   DELETE FROM dialplan WHERE dpid=234;

   INSERT INTO dialplan (dpid,pr,match_op,match_exp,match_flags,subst_exp,repl_exp,attrs ) VALUES (1, 0, 1, '^mlb.traco.ionharris.com', 1, '', '750|0|7|8|9|3|4|5|6|2|3|3', '0');


   INSERT INTO dialplan (dpid,pr,match_op,match_exp,match_flags,subst_exp,repl_exp,attrs ) VALUES (8000002, 0, 1, '^tx', 1, '', '', '0');
   INSERT INTO dialplan (dpid,pr,match_op,match_exp,match_flags,subst_exp,repl_exp,attrs ) VALUES (8000008, 0, 1, 'txrx.135000', 1, '', '00999', '0');
   INSERT INTO dialplan (dpid,pr,match_op,match_exp,match_flags,subst_exp,repl_exp,attrs ) VALUES (800700999, 0, 1, '^zma.artcc.ionharris.com$', 1, '', '', '0');


   opensipsctl ul show | grep sip: