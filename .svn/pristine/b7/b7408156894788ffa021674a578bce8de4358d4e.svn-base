╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ VectorCAST_Setup.txt                                                                                                                                                    ║
║                                                                                                                                                                         ║
║ Document Encoding           : UTF-8, UNIX Line Terminator                                                                                                               ║
║ Document Best Viewed/Printed: Page{Ledger, Landscape, 0.25in Side Margins}   Font{Monospace Font, Normal, 10pt}                                                         ║
║                                                                                                                                                                         ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                            Revision History                                                                             ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ VV.vv.DOYyy.bb (dd MMM yy) - Initial Creation/Development/Update/Maintenance Update                                                                                     ║
║                                                                                                                                                                         ║
║  1.00.05018.xx (19 Feb 18) - Initial Creation {J. Laccone}                                                                                                              ║
║                                 Added header, added reference data                                                                                                      ║
║  1.01.08818.xx (29 Mar 18) - Development Update {J. Laccone}                                                                                                            ║
║                                 Added update step before additional library installation                                                                                ║
║  1.02.26918.xx (26 Sep 18) - Development Update {J. Laccone}                                                                                                            ║
║                                 Updated instructions for Docker use                                                                                                     ║
║                                                                                                                                                                         ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                Reference                                                                                ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                                                                         ║
║   The Linux loader                                                                                                                                                      ║
║   ----------------                                                                                                                                                      ║
║      https://grahamwideman.wordpress.com/2009/02/09/the-linux-loader-and-how-it-finds-libraries/                                                                        ║
║                                                                                                                                                                         ║
║   Linux secondary library dependencies                                                                                                                                  ║
║   ------------------------------------                                                                                                                                  ║
║      http://www.kaizou.org/2015/01/linux-libraries/                                                                                                                     ║
║                                                                                                                                                                         ║
║   Linux under-linking library issues                                                                                                                                    ║
║   ----------------------------------                                                                                                                                    ║
║      https://wiki.mageia.org/en/Underlinking_issues_in_packaging                                                                                                        ║
║                                                                                                                                                                         ║
║   Docker Information                                                                                                                                                    ║
║   ------------------                                                                                                                                                    ║
║      https://lnsvr0016.cs.myharris.net/vcs21/vcs21_src/vcs21/irad/branches/dev/jlaccone/reference/Docker_Info.txt                                                       ║
║                                                                                                                                                                         ║
║   VectorCAST Docker Image Source                                                                                                                                        ║
║   ------------------------------                                                                                                                                        ║
║      https://lnsvr0016.cs.myharris.net/vcs21/vcs21_src/vcs21/irad/branches/dev/jlaccone/vcast-docker/                                                                   ║
║                                                                                                                                                                         ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                      Docker VectorCAST Installation                                                                     ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Prerequisites For Both Local And Remote Installations
   ═════════════════════════════════════════════════════
      1. An account on the VCS21 configuration management repository
      2. Docker installed locally (ref: "Docker Information" above)
      3. Available VectorCAST licenses (ask management if unsure)


   Additional Prerequisites For Remote Installations
   ═════════════════════════════════════════════════
      1. A Linux user account on the remote VectorCAST Docker Server
      2. A configured desktop environment for the Linux user account on the remote VectorCAST Docker Server
      3. A VNC account on the remote VectorCAST Docker Server
      4. SSH Server on the remote VectorCAST Docker Server
      5. VNC Server on the remote VectorCAST Docker Server
      6. SSH Client on the local workstation
      7. VNC Client on the local workstation


   Local Installation
   ══════════════════
      1. Open a terminal window
      2. Make a directory for the VectorCAST Docker Image Source by typing the following command(s) into the terminal window:

            mkdir <vectorcast-docker-image-source-dir>
            (ex: mkdir ~/vcast-docker)

      3. Checkout the VectorCAST Docker Image Source from source code management by typing the following command(s) into the terminal window:

            svn co <repository-location-of-vectorcast-docker-image-source> <local-destination-dir>
            (ex: svn co https://lnsvr0016.cs.myharris.net/vcs21/vcs21_src/vcs21/irad/branches/dev/jlaccone/vcast-docker ~/vcast-docker)

      4. Build the VectorCAST Docker Image by typing the following command(s) into the terminal window:

            cd <vectorcast-docker-image-source-dir>
            (ex: cd ~/vcast-docker)

            ./build-vcast-docker-image.sh

      5. Verify that the VectorCAST Docker Image build by typing the following command(s) into the terminal window and scaning the resulting output for the
         image (the image name defauts to "vcast-platform"):

            docker images

      6. Create a new container based on the VectorCAST Docker Image by typing the following command(s) into the terminal window:

            cd <vectorcast-docker-image-source-dir>
            (ex: cd ~/vcast-docker)

            ./create_vcast_docker_container.sh -c
            (NOTE: The command above script command uses the default values, to use other values, refer to the script help)


   Remote Installation
   ═══════════════════
      1. Connect to a desktop environment on the remote VectorCAST Docker Server, as a Linux user, using a SSH/VNC client
      2. Follow the "Local Installation" instructions substituting the remote desktop environment for the local desktop environment
         NOTE: Before creating a new container, enable the X-Server connection between the remote VectorCAST Docker Server and any
               Docker Containers by typing the following command(s) into the terminal window (terminal window in the remote desktop environment):

                  su
                  xhost +
                  (IMPORTANT: This will only allow X capability for the duration of this VNC session. This command MUST be run each time the VNCServer is restarted)



╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                         Stand Alone Installation                                                                        ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Prerequisites
   ═════════════
      1. Open a terminal window
      2. Login as the superuser (root on CentOS/RHEL)
      3. Add the prerequisite components by typing the following command(s) into the terminal window:

            yum --noplugins --enablerepo "*" --disablerepo "*media*" update
            yum --noplugins --enablerepo "*" --disablerepo "*media*" install fontconfig.i686 \
                freetype.i686 freetype-devel.i686 fontconfig-devel.i686 libstdc++.i686 \
                libXext.i686 libXrender.i686 glib2.i686


   VectorCAST Program
   ══════════════════
      1. Open a terminal window
      2. Make a directory for VectorCAST by typing the following command(s) into the terminal window:

            mkdir ~/vcast

      3. Change directory to the location the archived program is stored by typing the following command(s)
         into the terminal window:

            cd <vectorcast-archive-dir>
            (ex: cd ~/Download)

      4. Copy the archived program to the program directory by typing the following command(s) into the terminal window:

            cp <vectorcast-archive> <vectorcast-archive-dir>
            (ex: cp vcast.linux.64.2.tar.gz ~/vcast)

      5. Expand the archive into a the directory by typing the following command(s) into the terminal window:

            tar -xzvf <vectorcast-archive>
            (ex: tar -xzvf vcast.linux.64.2.tar.gz)


   VectorCAST Environment Variables
   ════════════════════════════════
      1. In either the .bashrc file or a start up shell script, add the following
         lines (replace <svn-working-dir-for-trunk> with the necessary path)

            # ===== Variables For VectorCAST =====
            # ----- Program Operation -----
            export VECTORCAST_DIR=$HOME/vcast
            export VCAST_DISABLE_TEST_MAINTENANCE=1

            # ----- Licensing -----
            # IRAD FLEXlm server
            export VECTOR_LICENSE_FILE=7650@172.24.22.160

            # ----- Source Files -----
            export VCAST_VCS21_SRC_BASE=<svn-working-dir-for-trunk>/ccu/base
            export VCAST_VCS21_SRC_DM8168=<svn-working-dir-for-trunk>/ccu/DM8168

            # ----- Support Files -----
            export VCAST_SUPPORT_FILES=$VCAST_VCS21_SRC_BASE/tools/vcast/scripts

            # ----- Library Files -----
            export VCAST_VCS21_LIB_ARM=<svn-working-dir-for-trunk>/ccu/_build/tps_externals/lib
            export VCAST_VCS21_LIB_NATIVE=<svn-working-dir-for-trunk>/ccu/_build-i386/tps_externals/lib

            # ----- Run-time Library Path -----
            export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$VCAST_VCS21_LIB_NATIVE:/usr/lib:/usr/lib64

      2. Add the following alias to either the .bashrc or the .bash_aliases file

            alias vc='cd $VCAST_VCS21_SRC_BASE/tools/vcast; $VECTORCAST_DIR/vcastqt -lc&'



╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                        Library Reference Commands                                                                       ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Library Cache Search
   ────────────────────
      1. To determine if there are libraries already installed on your system, execute the following commands

            ldconfig -p | grep libagent
            ldconfig -p | grep libsnmp



   Display Dependencies In A Library
   ─────────────────────────────────
      1. To display the list of dependency libraries for a specific library, execute the following command

            ldd -v <library-name>



   Display Unused Dependencies In A Library
   ────────────────────────────────────────
      1. To display the list of unused dependency libraries for a specific library, execute the following command

            ldd -u -r <library-name>



   Display Under-linking (Direct Case) In A Library
   ────────────────────────────────────────────────
      1. To display direct case under-linking (undefined symbols) in a shared library, execute the following command

            ldd -r <library-name> >/dev/null
