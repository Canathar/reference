╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ EMBDevelopment_VM_Modifications.txt                                                                                             ║
║                                                                                                                                 ║
║ Document Best Viewed/Printed: Page{Letter, Landscape, 0.25in Side Margins}   Font{Monospace Font, Normal, 10pt}                 ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                         Revision History                                                        ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ VV.vv.DOYyy.bb (dd MMM yy) - Initial Creation/Development Update/Maintenance Update                                             ║
║                                                                                                                                 ║
║  1.00.13418.xx (14 May 18) - Initial Creation {J. Laccone}                                                                      ║
║                                 Added header, added reference data                                                              ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                            Reference                                                            ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                                 ║
║   Setting Up An Eclipse Project                                                                                                 ║
║   -----------------------------                                                                                                 ║
║      https://lnsvr0016.cs.myharris.net/vcs21/vcs21_src/vcs21/irad/branches/dev/jlaccone/reference/Eclipse_Project_Setup.txt     ║
║                                                                                                                                 ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                 Embedded Development Virtual Machine                                            ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   The Virtual Machine Image for Embedded Development is a 40G image stored as a 12G compressed archive on a physical development
   machine.


   Obtain The Existing Virtual Machine Compressed Archive
   ══════════════════════════════════════════════════════
      1. Using a file transfer tool such as WinSCP or command line scp, login to the following development machine as
         the root user (ask your task lead for the password).

            lnion0042

      2. Navigate the the following directory:

            /data

      3. Download the folling file:

            EMBDevelopment.tar.gz

      4. Expand the archive by execute the following commands:

            On Linux
            ────────
               1. Open a terminal window as a non-root user
               2. Expand the compressed archive into a directory by typing the following command(s) into the terminal window:

                     tar --no-same-owner -xzvf EMBDevelopment.tar.gz

                  Commands If The Created Directory Is NOT Owned By The Current User
                  ------------------------------------------------------------------
                  chown <username>:<groupname> -R EMBDevelopment
                  (ex: chown mdavis:mdavis -R EMBDevelopment)

      5. Open the virtual machine tool (either VMWare Workstation or VMWare Player)
      6. Add the virtual machine to the virtual machine tool
      7. Start the EMBDevelopment virtual machine. If asked, choose "I Copied it"



╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                       User Modifications                                                        ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   In order to make the following changes, you will have to login to the VM as the superuser (root). The following steps must
   be performed as the superuser.


   Modify The Existing Users Home Directory
   ────────────────────────────────────────
      1. Open a terminal window
      2. Rename jlaccone users home directory to new user by execute the following command:

            mv /home/jlaccone /home/<user>
            (ex: mv /home/jlaccone /home/mdavis)


   Delete The Existing User
   ────────────────────────
      1. Open a terminal window
      2. Delete the jlaccone user by executing the following command:

            userdel jlaccone


   Add The New User
   ────────────────
      1. Open a terminal window
      2. Add the new user by executing the following commands:

            useradd <user>
            (ex: useradd mdavis)

            passwd <user>
            (ex: passwd mdavis)

      3. Add groups to the new user by executing the following command:

            usermod -ag wheel,docker <user>
            (ex: usermod -aG wheel,docker mdavis)


   Modify The Existing File Ownership
   ──────────────────────────────────
      1. Open a terminal window
      2. Change the owner/group of all the existing files to the new user by executing the following command:

            chown <user>:<group> -R /home/<user>
            (ex: chown mdavis:mdavis -R /home/mdavis)

      3. Change the programming symbolic links to the new user by executing the following commands:

            cd /home/<user>
            (ex: cd /home/mdavis)

            Qt Symbolic Link
            ----------------
            rm -f vdriveQt

            ln -s /home/<user>/QtForArm/Qt vdriveQt
            (ex: ln -s /home/mdavis/QtForArm/Qt vdriveQt)

            chown <user>:<group> -R vdriveQt
            (ex: chown mdavis:mdavis -R vdriveQt)

            CodeSourcery Symbolic Link
            --------------------------
            rm -f vdriveSourcery

            ln -s /home/<user>/CodeSourcery/Sourcery_G++_Lite vdriveSourcery
            (ex: ln -s /home/mdavis/CodeSourcery/Sourcery_G++_Lite vdriveSourcery)

            chown <user>:<group> -R vdriveSourcery
            (ex: chown mdavis:mdavis -R vdriveSourcery)

            Startup Scripts
            ---------------
            cp /home/<user>/Downloads/bashrc /home/<user>/.bashrc
            (ex: cp /home/mdavis/Downloads/bashrc /home/mdavis/.bashrc)

            cp -f /home/<user>/Downloads/bash_profile /home/<user>/.bash_profile
            (ex: cp /home/mdavis/Downloads/bash_profile /home/mdavis/.bash_profile)

      4. Change the Qt configuration to the new user by typing the following command(s) into the terminal window:

            cd /home/<user>/QtForArm/Qt
            (ex: cd /home/mdavis/QtForArm/Qt)

            grep -rl 'jlaccone' . | xargs sed -i 's/jlaccone/<user>/g'
            (ex: grep -rl 'jlaccone' . | xargs sed -i 's/jlaccone/mdavis/g')

      5. Delete the existing user subversion directory by executing the following command:

            rm -rf /home/<user>/.subversion
            (ex: rm -rf /home/mdavis/.subversion)

      6. Delete the gnome keyring by executing the following command:

            rm -f /home/<user>/.local/share/keyrings/login.keyring
            (ex: rm -f /home/mdavis/.local/share/keyrings/login.keyring)

      7. Reboot the machine



╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                       Creating A Local Source Code Working Directory: Subversion                                                        ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Remove The Existing Local Working Copy Of trunk
   ───────────────────────────────────────────────
      1. Open a terminal window as a non-root user
      2. Remove the local source code repository base directory by typing the following command(s) into the terminal window:

            rm -rf /data/dataworkspace/trunk

      3. Remove the local workspace installation script by typing the following command(s) into the terminal window:

            rm -f /data/dataworkspace/svn_make_vcs21_workspace


   Obtain The Scripts To Create A Repository Workspace/Local Workspace
   ───────────────────────────────────────────────────────────────────
      1. Open a terminal window as a non-root user
      2. Change to your local source code repository base directory by typing the following command(s) into the terminal window:

            cd <src-repo-base-directory>
            (ex: cd /data/dataworkspace)

​	    3. Obtain the local workspace installation script by typing the following command(s) into the terminal window:

           svn export <repo-url/script-name> <script-name>
           (ex: svn export https://lnsvr0016.cs.myharris.net/vcs21/vcs21_src/vcs21/irad/trunk/Embedded/svn_make_vcs21_workspace svn_make_vcs21_workspace)


   Create A New Local Source Code Workspace (Working Copy Of Source Code)
   ──────────────────────────────────────────────────────────────────────
      1. Open a terminal window as a non-root user
      2. Change to your local source code repository base directory by typing the following command(s) into the terminal window:

            cd <src-repo-base-directory>
            (ex: cd /data/dataworkspace)

      3. Execute the following commands in the terminal window to create a new local workspace:

            ./svn_make_vcs21_workspace --profile <checkout-type> --workspace <name-for-the-new-local-src-directory> --onbranch <src-branch-in-repo>
            (ex: ./svn_make_vcs21_workspace --profile appdev --workspace /data/dataworkspace/trunk --onbranch /trunk)
            (see svn_make_vcs21_workspace --help for more information)



╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                   Adding A Local Source Code Working Directory To Eclipse: Subversion                                                   ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Open Eclipse and remove the existing trunk project (it was created on the old subversion server). Follow the instructions in the document Eclipse_Project_Setup.txt to
   create a new local workspace/Eclipse project.
