╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ Eclipse_Project_Setup.txt                                                                                                       ║
║                                                                                                                                 ║
║ Document Best Viewed/Printed: Page{Legal, Landscape, 0.25in Side Margins}   Font{Monospace Font, Normal, 10pt}                  ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                         Revision History                                                        ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ VV.vv.DOYyy.bb (dd MMM yy) - Initial Creation/Development Update/Maintenance Update                                             ║
║                                                                                                                                 ║
║  1.00.12316.xx (02 May 16) - Initial Creation {J. Laccone}                                                                      ║
║                                 Added header, added reference data                                                              ║
║  1.01.12716.xx (06 May 16) - Development Update {J. Laccone}                                                                    ║
║                                 Added clarification to several steps                                                            ║
║  1.02.15416.xx (02 Jun 16) - Development Update {J. Laccone}                                                                    ║
║                                 Added info for new Klocwork version                                                             ║
║  1.03.22816.xx (15 Aug 16) - Development Update {J. Laccone}                                                                    ║
║                                 Added info for drive mapper builder                                                             ║
║  1.04.25616.xx (12 Sep 16) - Development Update {J. Laccone}                                                                    ║
║                                 Step cleanup                                                                                    ║
║  1.05.29616.xx (22 Oct 16) - Development Update {J. Laccone}                                                                    ║
║                                 Modified environment variables                                                                  ║
║  1.06.33416.xx (29 Nov 16) - Development Update {J. Laccone}                                                                    ║
║                                 Added Eclipse Plugin Fixes                                                                      ║
║  1.07.34416.01 (29 Nov 16) - Fixed typo on Build Spec file Step {C. Gregoire}                                                   ║
║                                 --J should be -J ( For What would Jenkins do)                                                   ║
║  1.08.04417.xx (13 Feb 17) - Development Update {J. Laccone}                                                                    ║
║                                 Updated to support new, larger pull script                                                      ║
║  1.09.12917.xx (09 May 17) - Development Update {J. Laccone}                                                                    ║
║                                 Updated with instructions on creating pruned branch                                             ║
║  1.10.15217.xx (01 Jun 17) - Development Update {J. Laccone}                                                                    ║
║                                 Updated with example branches for prune script                                                  ║
║  1.11.15917.xx (08 Jun 17) - Development Update {J. Laccone}                                                                    ║
║                                 Added instructions to install Eclipse                                                           ║
║  1.12.35517.xx (21 Dec 17) - Development Update {J. Laccone}                                                                    ║
║                                 Added instructions for workspace creation with tags                                             ║
║                                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                            Reference                                                            ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                                 ║
║   ION Repository                                                                                                                ║
║   ──────────────                                                                                                                ║
║      https://lnsvr0011/repositories/ion/                                                                                        ║
║                                                                                                                                 ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Create A New Branch
   ───────────────────
      1. In a terminal window, navigate to the Embedded root directory of a local copy of the VCS21 code branch
         (trunk repo source shown)

            https://lnsvr0011.cs.myharris.net/repositories/ion/vcs21/irad/trunk/Embedded

         a. If you do not have a local copy of an existing code branch, copy the following file from the repo shown above
            to your local drive

               svn_mkbranch

      2. Execute the following command to create a new branch (shallow copy) of the trunk in the repository
         (see svn_mkbranch --help for more information)

            ./svn_mkbranch -t <name for the new branch> -f trunk
            ./svn_mkbranch -t <name for the new branch> -f release_branches/b13.00_integration


   Import New Project (Direct From Subversion, Not Pruned)
   ───────────────────────────────────────────────────────
      1. Right click in project explorer, select "Import..."
      2. Select SVN -> Project from SVN
      3. If available, use existing repository. If not available, use the following:

            https://lnsvr0011.cs.myharris.net/repositories/ion/vcs21/irad/trunk/Embedded/ccu/base

      4. Select the resource to checkout as a project (SVN branch)
      5. Check out as a new project
      6. Wizard -> C/C++ -> C++ Project

      ----- Continue to "Setup Project For Building" -----


   Import An Existing Project Created From A Local VCS21 Workspace (Pruned From Subversion)
   ────────────────────────────────────────────────────────────────────────────────────────
      1. in a terminal window, navigate to the Embedded root directory of a local copy of the VCS21 code branch
         (trunk repo source shown)

            https://lnsvr0011.cs.myharris.net/repositories/ion/vcs21/irad/trunk/Embedded

         a. If you do not have a local copy of an existing code branch, copy the following file from the repo shown above
            to your local drive

               svn_make_vcs21_workspace

      2. Execute the following command to create a new workspace (local copy) of the branch from the repository
         (see svn_make_vcs21_workspace --help for more information)

            ./svn_make_vcs21_workspace --profile appdev --workspace <full local path name to save the branch>
                                       --onbranch /branches/dev/<username>/<branch name>

            Branch Examples:
            ────────────────
               /tags/13.0.1315.2
               /trunk
               /branches/release_branches/b13.00_integration
               /branches/release_branches/b14.20_integration
               /branches/dev/jlaccone/DE14948

      3. In Eclipse, Right click in project explorer, select "Import..."
      4. Select C/C++ -> Existing Code as Makefile Project
      5. Click the "Browse..." Button, select the local path created in the above steps
      6. Select Toolchain for Indexer Settings -> Linux GCC, Click "Finish"

      ----- Continue to "Setup Project For Building" -----


   Setup Project For Building
   ──────────────────────────
      1. Create a drive link builder (if needed, see below)
      2. Create A Build Specification File (see below)
      3. Modify the Eclipse Project Settings (see below)

      4. Build the project
      5. Window -> Preferences -> Klocwork -> Settings -> Analysis

            Uncheck the "Enable continuous analysis (C/C++ projects)

      6. Click the toolbar button "Run Klocwork analysis on selected project"
      7. Window -> Preferences -> Klocwork -> Settings -> Analysis

            Check the "Enable continuous analysis (C/C++ projects)

      8. Modify the Eclipse Project Builder Settings (see below)



   Create A Drive Link Builder
   ───────────────────────────
      1. Open a terminal
      2. cd ~
      3. touch drive_map.sh
      4. chmod 775 drive_map.sh
      5. gedit drive_map.sh &
      6. Add the following lines to the drive_map.sh file

            #!/bin/bash

            rm -rf ~/vdriveDEV
            ln -s ${1} ~/vdriveDEV

      7. Save the file and exit gedit



   Create A Build Specification File
   ─────────────────────────────────
      1. Open a terminal
      2. cd <WORKSPACE_DIR>/<PROJECT_NAME>/ccu/base
      3. ~/drive_map.sh `pwd`
      4. cd build/core
      5. kwinject ./xbuild.sh -p -t map -t pui -t tmg -t rmg -t riu



   Eclipse Project Settings
   ────────────────────────

      1. Right Click on Project -> Properties


      Builders -> New
      ---------------
         Choose "Program", Click "New"
            Name: DriveMapper_<PROJECT_NAME>
            Location: /home/<username>/drive_map.sh}
            Arguments: ${build_project}/ccu/base
         Move the DriveMapper builder up to the top of the list of project builders


      C/C++ Build -> Builder Settings -> Builder -> Build command
      -----------------------------------------------------------
         Uncheck "Use default build command"
         ----- old ----- ${KW_DIR}/bin/kwinject -o ${workspace_loc}/${ProjName}/ccu/base/build/core/kwinject.out ./xbuild.sh -p
         ${KW_DIR}/bin/kwinject -o ${ProjDirPath}/ccu/base/build/core/kwinject.out ./xbuild.sh -p


      C/C++ Build -> Builder Settings -> Build location -> Build directory
      --------------------------------------------------------------------
         Uncheck "Generate Makefiles automatically"
         ----- old ----- ${workspace_loc}/${ProjName}/ccu/base/build/core
         ${ProjDirPath}/ccu/base/build/core


      C/C++ Build -> Behavior -> Workbench Build Behavior
      ---------------------------------------------------
         Build: -t map -t pui -t tmg -t rmg -t riu
         Clean: --clean


      C/C++ General -> Preprocessor Include Paths, Macros etc. -> Entries
      -------------------------------------------------------------------
         Language       : GNU C++
         Setting Entries: CDT User Setting Entries
         Click "Add...", Select "Preprocessor Macro" from the combobox
            Name : __SOLACOM_FILE__
            Value: 0


      Klocwork -> Klocwork Build Settings -> Use build specification file
      -------------------------------------------------------------------
         <WORKSPACE_DIR>/<PROJECT_NAME>/ccu/base/build/core/kwinject.out



      OPTIONAL
      ────────
         1. Right Click on Project -> Build Configurations -> Manage
         2. Click New,
               Name: MAP, RIU, RMG, or TMG
               Description: Build the xxx Only
               Copy the settings from Debug
         3. Set the new Build Configuration Active
         4. Right Click on Project -> Properties
         5. C/C++ Build -> Behavior -> Workbench Build Behavior
               Build: -t <map or riu or rmg or tmg>
               Clean: --clean




╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                            Eclipse Setup                                                        ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

   Prerequisites
   ─────────────
      1. Verify that Java JDK 1.8 is installed by typing the following command in a terminal window:

            java -version

      2. If the minimal Java JDK is not installed, execute the following command to display the available JDKs:

            RHEL/CentOS (as root user): yum --noplugins --enablerepo "*" --disablerepo "*media*" list java*

      3. Install the desired JDK by choosing the desired Java JDK and executing the the following command:

            RHEL/CentOS (as root user): yum --noplugins --enablerepo "*" --disablerepo "*media*" install <desired Java JDK>

      4. Verify that the necessary certificates have been installed in the cacerts file of the desired Java JDK. A bash script
         utility, AddCertsToKeystore.sh, has been created to add the certificates in an automated fashion.



   Eclipse Installation
   ────────────────────
      1. Navigate a web browser to the following page

            http://www.eclipse.org/downloads/

      2. Download the latest release of the Eclipse installer (Neon as of this writing)




   Eclipse Subversion Setup
   ────────────────────────



   Eclipse Klocwork Server Setup (Klocwork Insight v. 12.0)
   ────────────────────────────────────────────────────────
      1. Navigate a web browser to the following page

            http://192.168.155.162:8080/portal/Portal.html

      2. On the right-hand side of the page, download both the "Command Line Tools" and the "Eclipse Update Site"



   Subversion Keyring Setup
   ────────────────────────
      1. Install the following library

            subversion-gnome.x86_64






https://unix.stackexchange.com/questions/89550/subversion-svn-doesnt-store-passwords-in-gnome-keyring







         Klocwork Project Setup
         -----------------------

            2. Click "Use build specification file:"
            3. Click "Browse..." and select the kwinject.out file




 -> Synchronization -> Klocwork Server
         ----------------------------------------------
            Check "Enable project specific settings"
            Host: 192.168.155.162
            Port: 8080



      Eclipse Plugin Issues
      ─────────────────────
         1. Configure Eclipse to display Java configuration (and add Java compilation capabilities, not needed but neat)
               Help -> Install New Software
               Select Eclipse Update Site (for Luna: http://download.eclipse.org/releases/luna)
         2. Expand the "Programming Languages" tree node
         3. Select "Eclipse Java Development Tools" and follow the prompts through the install
         4. Configure Eclipse to utilize the "site.xml" update method vs the "content.xml" update method
               Unable to connect to Update Repositories
               -----------------------------------------
                  https://www.eclipse.org/forums/index.php/t/270718/
         5. Save the required certificate, then apply the certificate to the JRE/JDK listed in the
            "Preferences -> Java -> Installed JREs" Preferences window
               Updating Java Certificates
               --------------------------
                  http://stackoverflow.com/questions/37398179/streamparse-wordcount-example/37411410#37411410

[Desktop Entry]
Name=Eclipse Oxygen
GenericName=Code IDE
Comment=Integrated Development Environment
Exec=/home/mhiguchi/eclipse/cpp-oxygen/eclipse/eclipse
Icon=/home/mhiguchi/eclipse/cpp-oxygen/eclipse/icon.xpm
MimeType=application/x-designer;
Terminal=false
Type=Application
Categories=Development;
X-Desktop-File-Install-Version=0.22



